{% extends 'layouts/base.html' %}
{% load static %}
{% load i18n %}
{% load mytags %}

{% block content %}
{% include 'layouts/cart-modal.html' %}
{% include 'layouts/wishlist-model.html' %}
<!-- Start Banner Area -->
<style>
.social {
    display: inline-block;
    width: 56px;
    height: 56px;
    padding: 8px;
    border-radius: 100%;
    background-color: white;
    margin: 10px;
    transition: all 0.5s ease-in-out;
}

.social svg {
    transition: transform 0.5s ease-out;
}

.social:hover {
    border-radius: 10%;
    transform: rotate(300deg);
}

.social:hover svg {
    transform: rotate(315deg);
}

.facebook {
    fill: #3b5998;
}

.facebook:hover {
    fill: white;
    background: #3b5998;
}

.twitter {
    fill: #4099FF;
}

.twitter:hover {
    fill: white;
    background: #4099FF;
}

.googleplus {
    fill: #d34836;
}

.googleplus:hover {
    fill: white;
    background: #d34836;
}

.stackoverflow {
    fill: #FF9900;
}

.stackoverflow:hover {
    fill: white;
    background: #FF9900;
}

.github {
    fill: black;
}

.github:hover {
    fill: white;
    background: black;
}

.codepen:hover {
    background: #455A64;
}

.codepen:hover line,
.codepen:hover polyline,
.codepen:hover polygon {
    stroke: white;
}

.flip-card {
  background-color: transparent;
  width: 300px;
  height: 300px;
  perspective: 1000px;
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
}

.flip-card:hover .flip-card-inner {
  transform: rotateY(180deg);
}

.flip-card-front, .flip-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

.flip-card-front {
  background-color: #fff;
  color: black;
}

.flip-card-back {
  background-color: #fff;
  color: white;
  transform: rotateY(180deg);

.custom-btn {
  width: 130px;
  height: 40px;
  color: #fff;
  border-radius: 50px;
  padding: 10px 25px;
  font-family: 'Lato', sans-serif;
  font-weight: 500;
  font-size: 16px;
  background: transparent;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  display: inline-block;
   box-shadow: inset 2px 2px 2px 0px rgba(255,255,255,.5),
    inset -7px -7px 10px 0px rgba(0,0,0,.1),7px 7px 20px 0px rgba(0,0,0,.1),
   4px 4px 5px 0px rgba(0,0,0,.1);
  text-shadow:  2px 2px 3px rgba(255,255,255,.5),
              -4px -4px 6px rgba(116, 125, 136, .2);
  outline: none;
}

}

</style>
<section class="banner-area organic-breadcrumb" >
    <div class="container">
        <div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
            <div class="col-first">
                <h1 style="font-family:'Spartan', sans-serif">{% trans 'Shop' %}</h1>
                <nav class="d-flex align-items-center">
                    <a href="/" style="font-family:'Spartan', sans-serif">{% trans 'Home' %}<span class="lnr lnr-arrow-right"></span></a>
                    <a href="#" style="font-family:'Spartan', sans-serif">{% trans 'Shop' %}</a>
<!--                    <a href="category.html">Fashon Category</a>-->
                </nav>
            </div>
        </div>
    </div>
</section>
<!-- End Banner Area -->
<br>
<div class="container">
    <div class="row">
      {% include 'products_filter.html' %}
        <div class="col-xl-9 col-lg-8 col-md-7">
            <!-- Start Filter Bar -->
                    <div id="message">

                      </div>
            <div class="filter-bar d-flex flex-wrap align-items-center m-auto">

                  <div class="sorting mr-auto">

                        <option value="1" style="font-family:'Spartan', sans-serif;font-size:18px">{% trans 'Showing' %} {{ page_obj.start_index }}-{{ page_obj.end_index }} {% trans 'of' %} {{ page_obj.paginator.count }}</option>


                </div>
                <div class="sorting">
                    <select style="padding:7px" onchange="addUrlParameter('sort', this.value)">
                        <option value="default" class="p-3">{% trans 'Default' %}</option>
                        <option {% if request.GET.sort == 'price' %}selected{% endif %} value="price">{% trans 'Low' %}</option>
                        <option {% if request.GET.sort == '-price' %}selected{% endif %}  value="-price">{% trans 'High' %}</option>
                    </select>
                </div>


                <!-- <div class="pagination">
                    <a href="#" class="prev-arrow"><i class="fa fa-long-arrow-left" aria-hidden="true"></i></a>
                    <a href="#" class="active">1</a>
                    <a href="#">2</a>
                    <a href="#">3</a>
                    <a href="#" class="dot-dot"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a>
                    <a href="#">6</a>
                    <a href="#" class="next-arrow"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></a>
                </div> -->
            </div>
            <!-- End Filter Bar -->
            <!-- Start Best Seller -->
            <section class="lattest-product-area pb-40 category-list">
                <div class="row">
                <div class="pros col-6 col-md-4">
                <div class="flip-card" id="flip-product" style="border-radius:10px">
                 <div class="flip-card-inner" style="width:250px;height:250px;border-radius:10px">
        <div class="flip-card-front" style="border-radius:30px">
            <img src="/static/img/fruits/apple.jpg"  style="width:200px;border-radius:20px;padding-top:40px;background:#fff">
        </div>
            <div class="flip-card-back" style="border-radius:20px">
            <h2 style="color:#000">{% trans 'Яблоко' %}</h2>
            <div class="texttt">
                <p class="base_text"
                   style="color:#000;max-width:230px;width:100%;margin:0 auto; ">
                   Яблоко - сочный плод яблони, который употребляется в пищу в свежем виде, служит сырьём в кулинарии</p>
            </div>
            <div class="container">
                <div class="prd-bottom" style="display:flex;align-items:center;justify-content:center;margin-top:20%;padding:10px">

                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

<!--                    <a style="color:#fff;font-weight:500;border-radius:50px;padding:10px" href="#"-->
<!--                       class="social-info">-->
<!--                        <span class="ti-bag" style="background-color:#EB5757;padding:10px;border-radius:50%"></span>-->
<!--                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">-->
<!--                        </p>-->
<!--                    </a>-->

                    <a href="#" class="social-info">
                                            <span class="lnr" style="background-color:#EB5757;padding:10px;border-radius:50%">
                                                    <img src="{% static 'img/features/love.png' %}" style="width:20px;margin-top:-4px" alt="">
                                            </span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

                    <a href="/product1/">
                            <span class="lnr lnr-move"
                                  style="background-color:#EB5757;padding:10px;border-radius:50%;color:#fff"></span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">

                        </p>
                    </a>
                </div>
            </div>
        </div>
    </div>
                    </div>
                    </div>
                       <div class="pros col-6 col-md-4">
                <div class="flip-card" id="flip-product2" style="border-radius:10px">
                 <div class="flip-card-inner" style="width:250px;height:250px;border-radius:10px">
        <div class="flip-card-front" style="border-radius:30px">
            <img src="/static/img/fruits/pear-7.png"  style="width:200px;border-radius:20px;padding-top:40px;background:#fff">
        </div>
            <div class="flip-card-back" style="border-radius:20px">
            <h2 style="color:#000">{% trans 'Груша' %}</h2>
            <div class="texttt">
                <p class="base_text"
                   style="color:#000;max-width:230px;width:100%;margin:0 auto; ">
                    Груши – освежающие и полезные фрукты. Они богаты клетчаткой </p>
            </div>
            <div class="container">
                <div class="prd-bottom" style="display:flex;align-items:center;justify-content:center;margin-top:20%;padding:10px">
                          <a href="#" class="social-info">
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

<!--                    <a style="color:#fff;font-weight:500;border-radius:50px;padding:10px" href="#"-->
<!--                       class="social-info">-->
<!--                        <span class="ti-bag" style="background-color:#EB5757;padding:10px;border-radius:50%"></span>-->
<!--                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">-->
<!--                        </p>-->
<!--                    </a>-->

                    <a href="#" class="social-info">
                                            <span class="lnr" style="background-color:#EB5757;padding:10px;border-radius:50%">
                                                    <img src="{% static 'img/features/love.png' %}" style="width:20px;margin-top:-4px" alt="">
                                            </span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

                    <a href="/product2/">
                            <span class="lnr lnr-move"
                                  style="background-color:#EB5757;padding:10px;border-radius:50%;color:#fff"></span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">

                        </p>
                    </a>
                </div>
            </div>
        </div>
    </div>
                </div>
                       </div>
                     <div class="pros col-6 col-md-4">
                <div class="flip-card" id="flip-product3" style="border-radius:10px">
                 <div class="flip-card-inner" style="width:250px;height:250px;border-radius:10px">
        <div class="flip-card-front" style="border-radius:30px">
            <img src="/static/img/fruits/watermelon-9.png"  style="width:200px;border-radius:20px;padding-top:40px;background:#fff">
        </div>
            <div class="flip-card-back" style="border-radius:20px">
            <h2 style="color:#000">{% trans 'Арбуз' %}</h2>
            <div class="texttt">
                <p class="base_text"
                   style="color:#000;max-width:230px;width:100%;margin:0 auto; ">Арбуз – это большая и сладкая ягода, которую большинство людей любят за ее освежающий вкус</p>
            </div>
            <div class="container">
                <div class="prd-bottom" style="display:flex;align-items:center;justify-content:center;margin-top:20%;padding:10px">
                          <a href="#" class="social-info">

                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

<!--                    <a style="color:#fff;font-weight:500;border-radius:50px;padding:10px" href="#"-->
<!--                       class="social-info">-->
<!--                        <span class="ti-bag" style="background-color:#EB5757;padding:10px;border-radius:50%"></span>-->
<!--                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">-->
<!--                        </p>-->
<!--                    </a>-->

                    <a href="#" class="social-info">
                                            <span class="lnr" style="background-color:#EB5757;padding:10px;border-radius:50%">
                                                    <img src="{% static 'img/features/love.png' %}" style="width:20px;margin-top:-4px" alt="">
                                            </span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

                    <a href="/product3/">
                            <span class="lnr lnr-move"
                                  style="background-color:#EB5757;padding:10px;border-radius:50%;color:#fff"></span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">

                        </p>
                    </a>
                </div>
            </div>
        </div>
    </div>
                </div>
                     </div>
                     <div class="pros col-6 col-md-4">
                <div class="flip-card" id="flip-product4" style="border-radius:10px">
                 <div class="flip-card-inner" style="width:250px;height:250px;border-radius:10px">
        <div class="flip-card-front" style="border-radius:30px">
            <img src="/static/img/fruits/grape-1.jpg"  style="width:200px;border-radius:20px;padding-top:40px;background:#fff">
        </div>
            <div class="flip-card-back" style="border-radius:20px">
            <h2 style="color:#000">{% trans 'Виноград' %}</h2>
            <div class="texttt">
                <p class="base_text"
                   style="color:#000;max-width:230px;width:100%;margin:0 auto; ">Изюмом называются высушенные естественным способом или с помощью специальных приспособлений ягоды винограда.</p>
            </div>
            <div class="container">
                <div class="prd-bottom" style="display:flex;align-items:center;justify-content:center;margin-top:20%;padding:10px">
                          <a href="#" class="social-info">

                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

<!--                    <a style="color:#fff;font-weight:500;border-radius:50px;padding:10px" href="#"-->
<!--                       class="social-info">-->
<!--                        <span class="ti-bag" style="background-color:#EB5757;padding:10px;border-radius:50%"></span>-->
<!--                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">-->
<!--                        </p>-->
<!--                    </a>-->

                    <a href="#" class="social-info">
                                            <span class="lnr" style="background-color:#EB5757;padding:10px;border-radius:50%">
                                                    <img src="{% static 'img/features/love.png' %}" style="width:20px;margin-top:-4px" alt="">
                                            </span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

                    <a href="/product4/">
                            <span class="lnr lnr-move"
                                  style="background-color:#EB5757;padding:10px;border-radius:50%;color:#fff"></span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">

                        </p>
                    </a>
                </div>
            </div>
        </div>
    </div>
                </div>
                     </div>
                     <div class="pros col-6 col-md-4">
                <div class="flip-card" id="flip-product5" style="border-radius:10px">
                 <div class="flip-card-inner" style="width:250px;height:250px;border-radius:10px">
        <div class="flip-card-front" style="border-radius:30px">
            <img src="/static/img/fruits/apricot-5.jpg"  style="width:200px;border-radius:20px;padding-top:40px;background:#fff">
        </div>
            <div class="flip-card-back" style="border-radius:20px">
            <h2 style="color:#000">{% trans 'Абрикос' %}</h2>
            <div class="texttt">
                <p class="base_text"
                   style="color:#000;max-width:230px;width:100%;margin:0 auto; ">Курагой называют высушенные на солнце половинки абрикосов без косточек, это один из ярких представителей сухофруктов.</p>
            </div>
            <div class="container">
                <div class="prd-bottom" style="display:flex;align-items:center;justify-content:center;margin-top:20%;padding:10px">
                          <a href="#" class="social-info">

                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

<!--                    <a style="color:#fff;font-weight:500;border-radius:50px;padding:10px" href="#"-->
<!--                       class="social-info">-->
<!--                        <span class="ti-bag" style="background-color:#EB5757;padding:10px;border-radius:50%"></span>-->
<!--                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">-->
<!--                        </p>-->
<!--                    </a>-->

                    <a href="#" class="social-info">
                                            <span class="lnr" style="background-color:#EB5757;padding:10px;border-radius:50%">
                                                    <img src="{% static 'img/features/love.png' %}" style="width:20px;margin-top:-4px" alt="">
                                            </span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

                    <a href="/product5/">
                            <span class="lnr lnr-move"
                                  style="background-color:#EB5757;padding:10px;border-radius:50%;color:#fff"></span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">

                        </p>
                    </a>
                </div>
            </div>
        </div>
    </div>
                </div>
                     </div>
                     <div class="pros col-6 col-md-4">
                <div class="flip-card" id="flip-product6" style="border-radius:10px">
                 <div class="flip-card-inner" style="width:250px;height:250px;border-radius:10px">
        <div class="flip-card-front" style="border-radius:30px">
            <img src="/static/img/fruits/plum-6.png"  style="width:200px;border-radius:20px;padding-top:40px;background:#fff">
        </div>
            <div class="flip-card-back" style="border-radius:20px">
            <h2 style="color:#000">{% trans 'Слива' %}</h2>
            <div class="texttt">
                <p class="base_text"
                   style="color:#000;max-width:230px;width:100%;margin:0 auto; ">
                    Product title</p>
            </div>
            <div class="container">
                <div class="prd-bottom" style="display:flex;align-items:center;justify-content:center;margin-top:20%;padding:10px">
                          <a href="#" class="social-info">

                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

<!--                    <a style="color:#fff;font-weight:500;border-radius:50px;padding:10px" href="#"-->
<!--                       class="social-info">-->
<!--                        <span class="ti-bag" style="background-color:#EB5757;padding:10px;border-radius:50%"></span>-->
<!--                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">-->
<!--                        </p>-->
<!--                    </a>-->

                    <a href="#" class="social-info">
                                            <span class="lnr" style="background-color:#EB5757;padding:10px;border-radius:50%">
                                                    <img src="{% static 'img/features/love.png' %}" style="width:20px;margin-top:-4px" alt="">
                                            </span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">
                        </p>
                    </a>

                    <a href="/product6/">
                            <span class="lnr lnr-move"
                                  style="background-color:#EB5757;padding:10px;border-radius:50%;color:#fff"></span>
                        <p class="hover-text" style="padding:7px;color:#222; font-size:22px font-weight:600">

                        </p>
                    </a>
                </div>
            </div>
        </div>
    </div>
                </div>
                     </div>

                <div class="swiper_start prods">
                 <div class="swiper mySwiper">
                  <div class="swiper-wrapper">
                     {% for product in object_list %}
                        {% include 'layouts/product_block2.html' %}
                     {% endfor %}

                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
            </section>
            <!-- End Best Seller -->
            <!-- Start Filter Bar -->
            <div class="filter-bar d-flex flex-wrap align-items-center">
                <!-- <div class="sorting mr-auto">
                    <select>
                        <option value="1">Show 12</option>
                        <option value="1">Show 12</option>
                        <option value="1">Show 12</option>
                    </select>
                </div> -->
                <div class="pagination m-auto" style="display:flex;align-items:center">
<!--                    <a href="#" class="prev-arrow"><i class="fa fa-long-arrow-left" aria-hidden="true"></i></a>-->

                    {% for page in page_obj.paginator.page_range %}
                        <a {% if page == page_obj.number %}class="active"{% endif %} onclick="addUrlParameter('page', '{{ page }}')" style="cursor:pointer;margin:0px 5px">{{ page }}</a>
                    {% endfor %}
                    <i class="fas fa-angle-right fa-2x" style="color:#cccccc;margin-left:5px"></i>
<!--                    <a href="#" class="next-arrow"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></a>-->
                </div>
            </div>
            <!-- End Filter Bar -->
        </div>
    </div>
</div>
<br>
<br>

{% endblock %}

{% block extra_js %}
<script>
    function add_to_wishlist(element, pk) {
        $.getJSON('/en/products/' + "wishlist/" + pk, function (data) {
            if (!data.status) {
               $('#message').append(`<div style="padding:5px">
                        <div id="inner-message" class="alert alert-error">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            Error
                        </div>
                    </div>`);
            } else {
                if (data.added) {
                    $('#message').append(`<div style="padding:5px">
                        <div id="inner-message" class="alert alert-success">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            Added to wishlist
                        </div>
                    </div>`);
                    element.innerHTML = '<span class="lnr" style="background-color:#EB5757;padding:10px;border-radius:50%"> <img src="{% static 'img/features/like.png' %}" style="width:20px;margin-top:-4px" alt=""> </span>'
                } else {
                    $('#message').append(`<div style="padding:5px">
                        <div id="inner-message" class="alert alert-success">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            Removed from wishlist
                        </div>
                    </div>`);
                    element.innerHTML = '<span class="lnr" style="background-color:#EB5757;padding:10px;border-radius:50%"> <img src="{% static 'img/features/love.png' %}" style="width:20px;margin-top:-4px" alt=""> </span>'
                }
                  $('#wishlist_length').html(data.wishlist_len);
            }
        });
    }

</script>
    <script>
        function addUrlParameter(name, value) {
            let searchParams = new URLSearchParams(window.location.search)
            if (['category', 'brand', 'tag'].includes(name)) {
                searchParams.delete('?');
            }
            if (searchParams.has(name) && searchParams.get(name) === value) {
                searchParams.delete(name);
            } else {
                searchParams.set(name, value)
            }
            window.location.search = searchParams.toString()
        }
    </script>
<script>
      $(".js-range-slider").ionRangeSlider({
        type: "double",
        grid: true,
        min: {{ min_price }},
        max: {{ max_price }},
        from: {% get_price request 0 %},
        to: {% get_price request 1 %},
        prefix: "{% trans 'sum' %}",
        onFinish(data) {
            let result = data.from.toString() + ';' + data.to.toString()
            addUrlParameter('price', result);
        }
    });
</script>
<!--1 wishlist, 2single product da wishlist,add to cart ishlataman-->
<script>
    $('.toast').toast('show');
</script>
<script>
$(function() {
    $.getJSON("/api/products/", function(result){
        console.log(result)
  });
})
</script>
<script>
    function add_to_cart(element, pk){
        $.getJSON('/en/products/' + "cart/" + pk, function (data) {
          if (!data.status) {
                $('#message').append(`<div style="padding:5px">
                        <div id="inner-message" class="alert alert-error">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            Error
                        </div>
                    </div>`);
          } else {
                if (data.added) {
                    $('#message').append(`<div style="padding:5px">
                        <div id="inner-message" class="alert alert-success">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                           {% trans 'Added' %}
                        </div>
                    </div>`);
                    element.innerHTML = '<span class="ti-bag" style="background-color:#EB5757;padding:10px;border-radius:50%"></span>'
                } else {
                   $('#message').append(`<div style="padding:5px">
                        <div id="inner-message" class="alert alert-success">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                           {% trans 'Removed' %}
                        </div>
                    </div>`);
                    element.innerHTML = '<span class="ti-bag" style="background-color:#EB5757;padding:10px;border-radius:50%"></span>'
                }
                $('#cart_length').html(data.cart_len);
          }
        });
    }
</script>
<!--wishlist-->

{% endblock %}
